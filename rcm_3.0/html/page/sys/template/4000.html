<div class="innertable">
	<h5>原项目概况</h5>
	<div class="mytable">
		<table  class="table table-bordered"  style="table-layout: fixed">
			<thead>
			<tr class="info">
				<th width="16%">分类</th>
				<th width="48%">内容</th>
				<th width="18%">附件</th>
				<th width="18%">操作</th>
			</tr>
			</thead>
			<tbody>
			<tr scope="row" ng-repeat="projectOverview in projectSummary.projectOverviews | orderBy: 'orderno': desc">
				<th>
					<input ng-if="projectOverview.edit == 1" ng-model="projectOverview.value">
					<a class="template-table-font" ng-if="projectOverview.edit == 0" >
						{{ projectOverview.value }}
					</a>
				</th>
				<td class="padding5">
                <textarea style="resize:vertical;" ng-disabled="projectOverview.modify === '0'"
						  name="{{ 'projectOverview_content' + $index }}"
						  ng-model="projectOverview.content"
						  class="form-control ng-pristine ng-valid ng-touched" ng-required="projectOverview.modify === '1'"></textarea>
					<div class="error-messages"
						 ng-if="interacted(formalReportForm['projectOverview_content' + $index])">
						这里是必填项
					</div>
				</td>
				<td>
					<button ng-if="projectOverview.attachmentValue == null" class="btn-add btn-scale"
							ngf-max-size="100MB"
							ngf-select="uploadAttachment($file, $invalidFiles, $index, projectOverview)">
						<span>添加</span>
					</button>
					<button ng-if="projectOverview.attachmentValue != null" class="btn-add btn-scale"
							ngf-max-size="100MB"
							ngf-select="changeAttachment($file, $invalidFiles, $index, projectOverview)">
						<span>替换</span>
					</button>
					<button ng-if="projectOverview.attachmentValue != null" class="btn-delete btn-scale"
							ngf-max-size="100MB"
							ng-click="deleteAttachment(projectOverview)">
						<span>删除</span>
					</button>
					<div class="text-hidden" style="float: left; width: 100%;">
						<a href="javascript:void(0);" ng-click="downLoadAttachment(projectOverview)" title="{{ projectOverview.attachmentValue }}">
							{{ projectOverview.attachmentValue }}
						</a>
					</div>
				</td>
				<td class="padding5">

					<button ng-if="projectOverview.delete != '1' && projectOverview.modify == '1'" class="btn-close btn-scale" ng-click="closeOverview(projectOverview)">
						<span>关闭</span>
					</button>
					<button ng-if="projectOverview.delete != '1' && projectOverview.modify == '0'" class="btn-close btn-scale" ng-click="closeOverview(projectOverview)">
						<span>打开</span>
					</button>
					<button ng-if="projectOverview.delete == '1'" class="btn-close btn-scale" ng-click="deleteObj(projectOverview, projectSummary.projectOverviews)">
						<span>删除</span>
					</button>


					<button class="btn-asc" ng-click="ascOrderno(projectOverview, 'projectOverviews')">
					</button>
					<button class="btn-desc" ng-click="descOrderno(projectOverview, 'projectOverviews')">
					</button>

				</td>
			</tr>
			</tbody>
		</table>
		<div class="row" align="center">
			<button class="btn-add1" ng-click="addOverview('projectOverviews')"/>
		</div>
	</div>
</div><!--项目概况-->


<div class="innertable">
	<h5>技改项目概况</h5>
	<div class="mytable">
		<table  class="table table-bordered"  style="table-layout: fixed">
			<thead>
			<tr class="info">
				<th width="16%">分类</th>
				<th width="48%">内容</th>
				<th width="18%">附件</th>
				<th width="18%">操作</th>
			</tr>
			</thead>
			<tbody>
			<tr scope="row" ng-repeat="projectOverview in projectSummary.projectOverviews1 | orderBy: 'orderno': desc">
				<th>
					<input ng-if="projectOverview.edit == 1" ng-model="projectOverview.value">
					<a class="template-table-font" ng-if="projectOverview.edit == 0" >
						{{ projectOverview.value }}
					</a>
				</th>
				<td class="padding5">
                <textarea style="resize:vertical;" ng-disabled="projectOverview.modify === '0'"
						  name="{{ 'projectOverview_content' + $index }}"
						  ng-model="projectOverview.content"
						  class="form-control ng-pristine ng-valid ng-touched" ng-required="projectOverview.modify === '1'"></textarea>
					<div class="error-messages"
						 ng-if="interacted(formalReportForm['projectOverview_content' + $index])">
						这里是必填项
					</div>
				</td>
				<td>
					<button ng-if="projectOverview.attachmentValue == null" class="btn-add btn-scale"
							ngf-max-size="100MB"
							ngf-select="uploadAttachment($file, $invalidFiles, $index, projectOverview)">
						<span>添加</span>
					</button>
					<button ng-if="projectOverview.attachmentValue != null" class="btn-add btn-scale"
							ngf-max-size="100MB"
							ngf-select="changeAttachment($file, $invalidFiles, $index, projectOverview)">
						<span>替换</span>
					</button>
					<button ng-if="projectOverview.attachmentValue != null" class="btn-delete btn-scale"
							ngf-max-size="100MB"
							ng-click="deleteAttachment(projectOverview)">
						<span>删除</span>
					</button>
					<div class="text-hidden" style="float: left; width: 100%;">
						<a href="javascript:void(0);" ng-click="downLoadAttachment(projectOverview)" title="{{ projectOverview.attachmentValue }}">
							{{ projectOverview.attachmentValue }}
						</a>
					</div>
				</td>
				<td class="padding5">

					<button ng-if="projectOverview.delete != '1' && projectOverview.modify == '1'" class="btn-close btn-scale" ng-click="closeOverview(projectOverview)">
						<span>关闭</span>
					</button>
					<button ng-if="projectOverview.delete != '1' && projectOverview.modify == '0'" class="btn-close btn-scale" ng-click="closeOverview(projectOverview)">
						<span>打开</span>
					</button>
					<button ng-if="projectOverview.delete == '1'" class="btn-close btn-scale" ng-click="deleteObj(projectOverview, projectSummary.projectOverviews1)">
						<span>删除</span>
					</button>


					<button class="btn-asc" ng-click="ascOrderno(projectOverview, 'projectOverviews1')">
					</button>
					<button class="btn-desc" ng-click="descOrderno(projectOverview, 'projectOverviews1')">
					</button>

				</td>
			</tr>
			</tbody>
		</table>
		<div class="row" align="center">
			<button class="btn-add1" ng-click="addOverview('projectOverviews1')"/>
		</div>
	</div>
</div><!--项目概况-->

<div class="innertable">
	<h5>技改项目收益</h5>
	<div class="mytable">
		<table  class="table table-bordered">
			<thead>
			<tr class="info">
				<th width="20%"></th>
				<th width="26%">原评审情况</th>
				<th width="26%">实际运营情况</th>
				<th width="26%">技改后</th>
			</tr>
			</thead>
			<tbody>
			<tr ng-repeat="projectIncome in projectSummary.projectIncomes">
				<td>
					<a class="template-table-font" >
						{{ projectIncome.value }}
					</a>
				</td>
				<td>
					<div class="has-feedback">
						<input class="form-control" type="text" name="{{ 'originalReview' + $index }}"
							   ng-model="projectIncome.originalReview" required/>
						<div class="error-messages"
							 ng-if="interacted(formalReportForm['originalReview' + $index])">
							这里是必填项
						</div>
					</div>
				</td>
				<td>
					<div class="has-feedback">
						<input class="form-control" type="text" name="{{ 'actualOperation' + $index }}"
							   ng-model="projectIncome.actualOperation" required/>
						<div class="error-messages"
							 ng-if="interacted(formalReportForm['actualOperation' + $index])">
							这里是必填项
						</div>
					</div>
				</td>
				<td>
					<div class="has-feedback">
						<input class="form-control" type="text" name="{{ 'afterTechnicalReform' + $index }}"
							   ng-model="projectIncome.afterTechnicalReform" required/>
						<div class="error-messages"
							 ng-if="interacted(formalReportForm['afterTechnicalReform' + $index])">
							这里是必填项
						</div>
					</div>
				</td>
			</tr>
			</tbody>
		</table>
	</div>
</div>


<div class="innertable">
	<h5>风险提示</h5>
	<div class="mytable">
		<div>重点关注</div>
		<table class="table table-bordered">
			<thead>
			<tr class="info">
				<th width="15%">风险类别</th>
				<th width="65%">风险事项</th>
				<th width="20%">操作</th>
			</tr>
			</thead>
			<tr  ng-repeat="seriousRisk in projectSummary.seriousRisks | orderBy: 'orderno': desc">
				<th>
					<input type="text" ng-model="seriousRisk.riskType" name="{{ 'seriousRiskType' + $index }}" required>
					<div class="error-messages"
						 ng-if="interacted(formalReportForm['seriousRiskType' + $index])">
						这里是必填项
					</div>
				</th>
				<td>
                <textarea style="resize:vertical;" class="form-control ng-pristine ng-valid ng-touched"
						  ng-model="seriousRisk.riskContent" name="{{ 'seriousRiskContent' + $index }}" required></textarea>
					<div class="error-messages"
						 ng-if="interacted(formalReportForm['seriousRiskContent' + $index])">
						这里是必填项
					</div>
				</td>
				<td class="padding5">

					<button class="btn-close btn-scale" ng-click="deleteObj(seriousRisk, projectSummary.seriousRisks)">
						<span>删除</span>
					</button>
					<button class="btn-asc" ng-click="ascOrderno(seriousRisk, 'seriousRisks')">
					</button>
					<button class="btn-desc" ng-click="descOrderno(seriousRisk, 'seriousRisks')">
					</button>
				</td>
			</tr>
			</tbody>
		</table>
		<div class="row" align="center">
			<button class="btn-add1" ng-click="addRisk('seriousRisks')"/>
		</div>

		<div>一般关注</div>
		<table class="table table-bordered">
			<thead>
			<tr class="info">
				<th width="15%">风险类别</th>
				<th width="65%">风险事项</th>
				<th width="20%">操作</th>
			</tr>
			</thead>

			<tbody>
			<tr ng-repeat="generalRisk in projectSummary.generalRisks | orderBy: 'orderno': desc">
				<th>
					<input type="text" ng-model="generalRisk.riskType" name="{{ 'generalRiskType' + $index }}" required>
					<div class="error-messages"
						 ng-if="interacted(formalReportForm['generalRiskType' + $index])">
						这里是必填项
					</div>
				</th>
				<td>
                <textarea style="resize:vertical;" class="form-control ng-pristine ng-valid ng-touched"
						  ng-model="generalRisk.riskContent" name="{{ 'generalRiskContent' + $index }}" required></textarea>
					<div class="error-messages"
						 ng-if="interacted(formalReportForm['generalRiskContent' + $index])">
						这里是必填项
					</div>
				</td>
				<td class="padding5">
					<button class="btn-close btn-scale" ng-click="deleteObj(generalRisk, projectSummary.generalRisks)">
						<span>删除</span>
					</button>

					<button class="btn-asc" ng-click="ascOrderno(generalRisk, 'generalRisks')">
					</button>
					<button class="btn-desc" ng-click="descOrderno(generalRisk, 'generalRisks')">
					</button>
				</td>
			</tr>
		</table>
		<div class="row" align="center">
			<button class="btn-add1" ng-click="addRisk('generalRisks')"/>
		</div>
	</div>
</div><!--风险提示-->

<div class="innertable">
	<h5>后续执行要求</h5>
	<div class="mytable">
		<table class="table table-bordered">
			<thead>
			<tr class="info">
				<th width="80%">后续执行要求</th>
				<th width="20%">操作</th>
			</tr>
			</thead>
			<tr ng-repeat="perform in projectSummary.performs | orderBy: 'orderno': desc">
				<td>
                <textarea style="resize:vertical;" class="form-control ng-pristine ng-valid ng-touched"
						  ng-model="perform.requirementContent" name="{{ 'performRequirementContent' + $index }}" required></textarea>
					<div class="error-messages"
						 ng-if="interacted(formalReportForm['performRequirementContent' + $index])">
						这里是必填项
					</div>
				</td>
				<td class="padding5">

					<button class="btn-close btn-scale" ng-click="deleteObj(perform, projectSummary.performs)">
						<span>删除</span>
					</button>

					<button class="btn-asc" ng-click="ascOrderno(perform, 'performs')">
					</button>
					<button class="btn-desc" ng-click="descOrderno(perform, 'performs')">
					</button>

				</td>
			</tr>
			</tbody>
		</table>
		<div class="row" align="center">
			<button class="btn-add1" ng-click="addRequirement('performs')"/>
		</div>
	</div>
</div><!--后续执行要求-->

<script>
    $(function() {
        setTimeout(function(){
            /*$('#textarea' + '0').onchange(
                $('.ng-pristine.ng-valid.ng-touched').each(function(){
                    console.log(this.scrollHeight)
                    this.style.height = this.scrollHeight + 12 + 'px'
                })
            );*/
            $('.ng-pristine.ng-valid.ng-touched').each(function(){
                console.log(this.scrollHeight)
                this.style.height = this.scrollHeight + 12 + 'px'
            })
        },100)
    })
</script>